# ==============================
# Database
# ==============================
# Для локальной разработки с Docker:
DATABASE_URL="postgresql://resto:your-password@localhost:5432/resto_worker"
# ВАЖНО: В production (VPS) DATABASE_URL НЕ задаётся в .env!
# docker-compose.production.yml формирует его автоматически:
#   DATABASE_URL=postgresql://resto:${POSTGRES_PASSWORD}@db:5432/resto_worker

# Пароль PostgreSQL (используется в docker-compose.yml и docker-compose.production.yml)
# ВАЖНО: На VPS этот пароль должен совпадать с паролем пользователя resto в PostgreSQL
POSTGRES_PASSWORD="your-strong-postgres-password"

# Session (обязательно! Сгенерируйте: node -e "console.log(require('crypto').randomBytes(48).toString('base64url'))")
SESSION_SECRET="your-random-secret-64-chars-min"

# Node Environment
NODE_ENV="development"

# URL приложения (для редиректов оплаты и др.)
APP_URL="https://lk.cosmicmind.ru"

# ==============================
# Telegram Bot (Grammy)
# ==============================
TELEGRAM_BOT_TOKEN="your-bot-token-from-botfather"
TELEGRAM_BOT_USERNAME="your_bot_username"

# ==============================
# Telegram Userbot (gramjs MTProto)
# Для автоматического создания групп
# ==============================
USERBOT_API_ID="your-api-id"
USERBOT_API_HASH="your-api-hash"
USERBOT_SESSION_ENCRYPTED='{"iv":"...","encrypted":"...","authTag":"..."}'
USERBOT_ENCRYPTION_KEY="your-256-bit-hex-key"
USERBOT_ENABLED="false"

# ==============================
# Тинькофф Касса
# Документация: https://www.tinkoff.ru/kassa/develop/api/payments/
# ==============================

# DEMO-терминал (тестовый режим, TerminalKey заканчивается на DEMO)
# ВАЖНО: DEMO-терминал работает через БОЕВОЙ URL securepay.tinkoff.ru
TINKOFF_TERMINAL_KEY="your-terminal-key-DEMO"
TINKOFF_PASSWORD="your-terminal-password"
TINKOFF_API_URL="https://securepay.tinkoff.ru/v2"

# Продакшн (заменить TerminalKey на боевой без DEMO):
# TINKOFF_TERMINAL_KEY="your-terminal-key"
# TINKOFF_PASSWORD="your-terminal-password"
# TINKOFF_API_URL="https://securepay.tinkoff.ru/v2"

# ==============================
# OpenAI (Whisper транскрипция + GPT отчёты)
# https://platform.openai.com/api-keys
# ==============================
OPENAI_API_KEY="sk-proj-your-openai-api-key"

# ==============================
# Cron (расписание отчётов)
# ==============================
# Секрет для защиты cron-эндпоинта (GET /api/cron/reports)
# Сгенерируйте: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
CRON_SECRET="your-cron-secret"
