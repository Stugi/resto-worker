// ============================================
// ЛИДЫ — промежуточная таблица для онбординга
// Создаётся при /start, хранит состояние онбординга.
// User НЕ создаётся пока онбординг не завершён.
// ============================================

model Lead {
  id         String   @id @default(cuid())
  telegramId String   @unique
  phone      BigInt?
  name       String?
  username   String?

  // Состояние онбординга (WAITING_START, WAITING_CONTACT, ...)
  botState   String?

  // Данные из онбординга
  orgName    String?  // Название организации
  scale      String?  // Количество ресторанов: "1", "10", "11"

  // Прошёл ли полный онбординг
  converted  Boolean  @default(false)

  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt

  @@index([phone])
}
