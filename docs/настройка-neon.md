# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Neon PostgreSQL –¥–ª—è RESTO Worker

## –ß—Ç–æ —Ç–∞–∫–æ–µ Neon?

[Neon](https://neon.tech) - —ç—Ç–æ serverless PostgreSQL –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Å:
- ‚úÖ **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π tier**: 0.5 GB storage, 1 project
- ‚úÖ **Instant provisioning**: –±–∞–∑–∞ –≥–æ—Ç–æ–≤–∞ –∑–∞ —Å–µ–∫—É–Ω–¥—ã
- ‚úÖ **Branching**: —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –∫–æ–ø–∏–∏ –ë–î –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ **Auto-scaling**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ **Backups**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã

## –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [neon.tech](https://neon.tech)
2. –ù–∞–∂–º–∏—Ç–µ **Sign Up**
3. –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ GitHub (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) –∏–ª–∏ Email

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

1. –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –Ω–∞–∂–º–∏—Ç–µ **Create a project**
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
   - **Project name**: `resto-worker-dev`
   - **Region**:
     - `Europe (Frankfurt)` - –¥–ª—è –ï–°/–†–æ—Å—Å–∏—è
     - `US East (Ohio)` - –¥–ª—è –°–®–ê
     - `Asia Pacific (Singapore)` - –¥–ª—è –ê–∑–∏–∏
   - **Postgres version**: `16` (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
   - **Compute size**: –æ—Å—Ç–∞–≤—å—Ç–µ `Shared` (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)

3. –ù–∞–∂–º–∏—Ç–µ **Create project**

### –®–∞–≥ 3: –ü–æ–ª—É—á–µ–Ω–∏–µ Connection String

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –≤—ã —É–≤–∏–¥–∏—Ç–µ **Connection Details**:

1. –í —Ä–∞–∑–¥–µ–ª–µ **Connection string** –≤—ã–±–µ—Ä–∏—Ç–µ:
   - **Database**: `neondb` (default)
   - **Role**: `[–≤–∞—à username]`
   - **Compute**: `main`

2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è. –û–Ω–∞ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:
   ```
   postgresql://username:password@ep-xxxx-xxxx.region.aws.neon.tech/neondb?sslmode=require
   ```

3. **–í–∞–∂–Ω–æ**: –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å! –û–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑.

### –®–∞–≥ 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ .env

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
2. –ó–∞–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ `DATABASE_URL`:

```env
DATABASE_URL="postgresql://username:password@ep-xxxx-xxxx.region.aws.neon.tech/neondb?sslmode=require"
```

3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª

### –®–∞–≥ 5: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π

–¢–µ–ø–µ—Ä—å –ø—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –∫ –≤–∞—à–µ–π Neon –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:

```bash
# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
yarn prisma migrate dev --name init

# –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å Prisma Client
yarn prisma generate
```

–ì–æ—Ç–æ–≤–æ! üéâ

### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–û—Ç–∫—Ä–æ–π—Ç–µ Prisma Studio –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:

```bash
yarn prisma studio
```

–ë—Ä–∞—É–∑–µ—Ä –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –Ω–∞ `http://localhost:5555` —Å GUI –¥–ª—è –≤–∞—à–µ–π –ë–î.

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ Neon

### Branching (–≤–µ—Ç–≤–ª–µ–Ω–∏–µ –ë–î)

Neon –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ–ø–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (branches) –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

1. –í Neon Console –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Branches**
2. –ù–∞–∂–º–∏—Ç–µ **Create branch**
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫—É—é –≤–µ—Ç–∫—É (–æ–±—ã—á–Ω–æ `main`)
4. –î–∞–π—Ç–µ –∏–º—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `test` –∏–ª–∏ `feature-auth`)

–ö–∞–∂–¥–∞—è –≤–µ—Ç–∫–∞ –ø–æ–ª—É—á–∞–µ—Ç —Å–≤–æ–π connection string. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ `.env` —Ñ–∞–π–ª—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –≤–µ—Ç–æ–∫:

```bash
# .env (main branch)
DATABASE_URL="postgresql://...@ep-main.../neondb?sslmode=require"

# .env.test (test branch)
DATABASE_URL="postgresql://...@ep-test.../neondb?sslmode=require"
```

### Prisma Studio —Å Neon

Prisma Studio —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–ø—Ä—è–º—É—é —Å Neon:

```bash
yarn prisma studio
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏

–í Neon Console –¥–æ—Å—Ç—É–ø–Ω—ã:
- **Monitoring**: –≥—Ä–∞—Ñ–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è CPU, RAM, Storage
- **Operations**: –∏—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π
- **Logs**: –ª–æ–≥–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

---

## Troubleshooting

### –û—à–∏–±–∫–∞ "connection timeout"

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. Connection string –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω (–≤–∫–ª—é—á–∞—è `?sslmode=require`)
2. –ò–Ω—Ç–µ—Ä–Ω–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
3. –ü—Ä–æ–µ–∫—Ç Neon –∞–∫—Ç–∏–≤–µ–Ω (–Ω–µ suspended)

### –û—à–∏–±–∫–∞ "authentication failed"

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–∞—Ä–æ–ª—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
2. –ü–∞—Ä–æ–ª—å –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã - –∑–∞–∫–æ–¥–∏—Ä—É–π—Ç–µ –∏—Ö URL encoding
3. –í Neon Console –º–æ–∂–µ—Ç–µ —Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö "suspended"

Neon –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ë–î –Ω–∞ free tier:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Neon Console
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –ø—Ä–æ–µ–∫—Ç
3. –ù–∞–∂–º–∏—Ç–µ **Resume** –µ—Å–ª–∏ –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ –±–∞–∑–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ–∑–æ–±–Ω–æ–≤–∏—Ç—Å—è (cold start ~1-2 —Å–µ–∫).

---

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Free Tier

- **Storage**: 0.5 GB
- **Projects**: 1 –ø—Ä–æ–µ–∫—Ç
- **Branches**: 10 –≤–µ—Ç–æ–∫
- **Compute time**: 191 —á–∞—Å–æ–≤/–º–µ—Å—è—Ü –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- **Auto-suspend**: –ø–æ—Å–ª–µ 5 –º–∏–Ω—É—Ç –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —ç—Ç–æ–≥–æ –±–æ–ª–µ–µ —á–µ–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ!

---

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Neon Documentation](https://neon.tech/docs)
- [Neon + Prisma Guide](https://neon.tech/docs/guides/prisma)
- [Neon Console](https://console.neon.tech)
- [Neon Status](https://neonstatus.com)

---

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã Neon

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π:

1. **Supabase** - PostgreSQL + Auth + Storage + Realtime
2. **Railway** - PostgreSQL + Deploy –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞
3. **Render** - PostgreSQL + Web hosting
4. **Local PostgreSQL** - –¥–ª—è offline —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–î–ª—è RESTO Worker **Neon** - –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è dev –æ–∫—Ä—É–∂–µ–Ω–∏—è! üöÄ
